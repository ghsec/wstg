# Карта пути выполнения через приложение

|ID          |
|------------|
|WSTG-INFO-07|

## Резюме

Перед началом тестирования безопасности понимание структуры приложения имеет первостепенное значение. Без глубокого понимания макета приложения маловероятно, что оно будет тщательно протестировано.

## Цели теста

- Составьте карту целевого приложения и поймите основные рабочие процессы.

## Как проверить

При тестировании в черном ящике очень сложно протестировать всю кодовую базу. Не только потому, что тестер не видит пути кода через приложение, но даже если бы он это сделал, тестирование всех путей кода было бы очень трудоемким. Один из способов согласовать это - документировать, какие пути кода были обнаружены и проверены.

Есть несколько способов приблизиться к тестированию и измерению покрытия кода:

- **Path** - протестируйте каждый из путей через приложение, которое включает в себя тестирование комбинаторного и граничного анализа для каждого пути принятия решения. Хотя этот подход предлагает тщательность, количество проверяемых путей растет экспоненциально с каждой веткой принятия решения.
- **Data Flow (or Taint Analysis)** - проверяет назначение переменных через внешнее взаимодействие (обычно пользователей). Сосредоточение на отображении потока, преобразовании и использовании данных по всему приложению.
- **Race** - проверяет несколько одновременных экземпляров приложения, манипулирующих одними и теми же данными.


Компромисс в отношении того, какой метод используется и в какой степени используется каждый метод, должен быть согласован с владельцем приложения. Также могут быть приняты более простые подходы, в том числе вопрос о владельце приложения, какие функции или разделы кода они особенно обеспокоены и как эти сегменты кода могут быть достигнуты.

Чтобы продемонстрировать покрытие кода владельцу приложения, тестер может начать с электронной таблицы и документировать все ссылки, обнаруженные путем добавления приложения (вручную или автоматически). Затем тестер может более внимательно изучить точки принятия решений в приложении и выяснить, сколько значительных путей кода обнаружено. Затем они должны быть задокументированы в электронной таблице с URL-адресами, прозой и описаниями скриншотов обнаруженных путей.

### Automatic Spidering

Автоматический паук - это инструмент, используемый для автоматического обнаружения новых ресурсов (URL) на определенном веб-сайте. Он начинается со списка URL-адресов для посещения, называемых семенами, которые зависят от того, как запускается Spider. Хотя существует много инструментов Spidering, в следующем примере используется [Zed Attack Proxy (ZAP)](https://github.com/zaproxy/zaproxy):

![Zed Attack Proxy Screen](images/OWASPZAPSP.png)\
*Figure 4.1.7-1: Zed Attack Proxy Screen*

[ZAP](https://github.com/zaproxy/zaproxy) предлагает различные варианты автоматического распыления, которые могут быть использованы в зависимости от потребностей тестера:

- [Spider](https://www.zaproxy.org/docs/desktop/start/features/spider/)
- [AJAX Spider](https://www.zaproxy.org/docs/desktop/addons/ajax-spider/)
- [OpenAPI Support](https://www.zaproxy.org/docs/desktop/addons/openapi-support/)

## Tools

- [Zed Attack Proxy (ZAP)](https://github.com/zaproxy/zaproxy)
- [List of spreadsheet software](https://en.wikipedia.org/wiki/List_of_spreadsheet_software)
- [Diagramming software](https://en.wikipedia.org/wiki/List_of_concept-_and_mind-mapping_software)

## References

- [Code Coverage](https://en.wikipedia.org/wiki/Code_coverage)
